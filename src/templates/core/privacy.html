{% extends 'base.html' %}
{% load static %}

{% block title %}Privacy Policy - TradeVision{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-bg text-white py-16">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h1 class="text-4xl font-bold font-heading mb-4">Privacy Policy</h1>
        <p class="text-xl text-gray-200">How we collect, use, and protect your information</p>
        <p class="text-sm text-gray-300 mt-2">Last updated: January 2025</p>
    </div>
</section>

<!-- Privacy Content -->
<section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="prose prose-lg max-w-none">
            <!-- Introduction -->
            <div class="bg-blue-50 rounded-lg p-6 mb-8">
                <h2 class="text-xl font-bold text-gray-900 mb-3">Your Privacy Matters</h2>
                <p class="text-gray-700 leading-relaxed">
                    At TradeVision, we are committed to protecting your privacy and ensuring the security of your personal information. This privacy policy explains how we collect, use, disclose, and safeguard your information when you use our services.
                </p>
            </div>

            <!-- Table of Contents -->
            <div class="bg-gray-50 rounded-lg p-6 mb-8">
                <h2 class="text-xl font-bold text-gray-900 mb-4">Table of Contents</h2>
                <ul class="space-y-2 text-primary-600">
                    <li><a href="#information-we-collect" class="hover:text-primary-700">1. Information We Collect</a></li>
                    <li><a href="#how-we-use" class="hover:text-primary-700">2. How We Use Your Information</a></li>
                    <li><a href="#information-sharing" class="hover:text-primary-700">3. Information Sharing and Disclosure</a></li>
                    <li><a href="#data-security" class="hover:text-primary-700">4. Data Security</a></li>
                    <li><a href="#data-retention" class="hover:text-primary-700">5. Data Retention</a></li>
                    <li><a href="#your-rights" class="hover:text-primary-700">6. Your Rights and Choices</a></li>
                    <li><a href="#cookies" class="hover:text-primary-700">7. Cookies and Tracking</a></li>
                    <li><a href="#international-transfers" class="hover:text-primary-700">8. International Data Transfers</a></li>
                    <li><a href="#changes" class="hover:text-primary-700">9. Changes to This Policy</a></li>
                    <li><a href="#contact-privacy" class="hover:text-primary-700">10. Contact Us</a></li>
                </ul>
            </div>

            <!-- Privacy Sections -->
            <section id="information-we-collect" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">1. Information We Collect</h2>
                
                <h3 class="text-xl font-semibold text-gray-900 mb-3">Personal Information</h3>
                <p class="text-gray-600 leading-relaxed mb-4">
                    We collect personal information that you provide directly to us, including:
                </p>
                <ul class="list-disc pl-6 space-y-2 text-gray-600 mb-6">
                    <li>Name, email address, and contact information</li>
                    <li>Identity verification documents (ID, passport, etc.)</li>
                    <li>Financial information (bank details, payment methods)</li>
                    <li>Trading preferences and investment history</li>
                    <li>Support communications and feedback</li>
                </ul>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Automatically Collected Information</h3>
                <ul class="list-disc pl-6 space-y-2 text-gray-600 mb-6">
                    <li>IP address and device information</li>
                    <li>Browser type and operating system</li>
                    <li>Usage patterns and navigation data</li>
                    <li>Transaction history and trading activity</li>
                    <li>Location data (where permitted)</li>
                </ul>

                <h3 class="text-xl font-semibold text-gray-900 mb-3">Third-Party Information</h3>
                <p class="text-gray-600 leading-relaxed mb-4">
                    We may receive information from third parties such as:
                </p>
                <ul class="list-disc pl-6 space-y-2 text-gray-600">
                    <li>Identity verification services</li>
                    <li>Payment processors</li>
                    <li>Marketing partners (with your consent)</li>
                    <li>Social media platforms (if you connect accounts)</li>
                </ul>
            </section>

            <section id="how-we-use" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">2. How We Use Your Information</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div class="bg-green-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">
                            <i class="fas fa-cog text-green-600 mr-2"></i>Service Operations
                        </h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>• Provide and maintain our services</li>
                            <li>• Process transactions and payments</li>
                            <li>• Verify your identity and prevent fraud</li>
                            <li>• Communicate with you about your account</li>
                        </ul>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">
                            <i class="fas fa-chart-line text-blue-600 mr-2"></i>Service Improvement
                        </h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>• Analyze usage patterns and trends</li>
                            <li>• Develop new features and services</li>
                            <li>• Personalize your experience</li>
                            <li>• Conduct research and analytics</li>
                        </ul>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">
                            <i class="fas fa-shield-alt text-purple-600 mr-2"></i>Legal & Security
                        </h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>• Comply with legal obligations</li>
                            <li>• Prevent fraud and abuse</li>
                            <li>• Protect our rights and property</li>
                            <li>• Enforce our terms of service</li>
                        </ul>
                    </div>
                    
                    <div class="bg-yellow-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-3">
                            <i class="fas fa-bullhorn text-yellow-600 mr-2"></i>Communications
                        </h3>
                        <ul class="space-y-2 text-sm text-gray-600">
                            <li>• Send account notifications</li>
                            <li>• Provide customer support</li>
                            <li>• Send marketing communications (with consent)</li>
                            <li>• Conduct surveys and feedback</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="information-sharing" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">3. Information Sharing and Disclosure</h2>
                
                <div class="bg-red-50 border-l-4 border-red-400 p-6 mb-6">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-lock text-red-400"></i>
                        </div>
                        <div class="ml-3">
                            <h3 class="text-lg font-medium text-red-800 mb-2">We Never Sell Your Data</h3>
                            <p class="text-sm text-red-700 leading-relaxed">
                                TradeVision does not sell, rent, or trade your personal information to third parties for their marketing purposes.
                            </p>
                        </div>
                    </div>
                </div>

                <p class="text-gray-600 leading-relaxed mb-4">
                    We may share your information only in the following circumstances:
                </p>
                
                <ul class="list-disc pl-6 space-y-3 text-gray-600">
                    <li><strong>Service Providers:</strong> Trusted third parties who perform services on our behalf (payment processors, identity verification, customer support)</li>
                    <li><strong>Legal Requirements:</strong> When required by law, court order, or government request</li>
                    <li><strong>Business Transfers:</strong> In connection with mergers, acquisitions, or asset sales</li>
                    <li><strong>Fraud Prevention:</strong> To prevent fraud, abuse, or violations of our terms</li>
                    <li><strong>With Your Consent:</strong> When you explicitly agree to sharing</li>
                </ul>
            </section>

            <section id="data-security" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">4. Data Security</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-lock text-green-600 text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Encryption</h3>
                        <p class="text-sm text-gray-600">All data is encrypted in transit and at rest using industry-standard protocols</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-server text-blue-600 text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Secure Infrastructure</h3>
                        <p class="text-sm text-gray-600">Our systems are hosted on secure, monitored infrastructure with regular security audits</p>
                    </div>
                    
                    <div class="text-center">
                        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-users text-purple-600 text-xl"></i>
                        </div>
                        <h3 class="font-semibold text-gray-900 mb-2">Access Controls</h3>
                        <p class="text-sm text-gray-600">Strict access controls and multi-factor authentication protect your account</p>
                    </div>
                </div>
                
                <p class="text-gray-600 leading-relaxed mb-4">
                    We implement comprehensive security measures including:
                </p>
                <ul class="list-disc pl-6 space-y-2 text-gray-600">
                    <li>SSL/TLS encryption for all data transmission</li>
                    <li>Regular security audits and penetration testing</li>
                    <li>Employee background checks and security training</li>
                    <li>Intrusion detection and monitoring systems</li>
                    <li>Regular backups and disaster recovery procedures</li>
                </ul>
            </section>

            <section id="data-retention" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">5. Data Retention</h2>
                
                <div class="bg-gray-50 rounded-lg p-6 mb-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Retention Periods</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Account Information:</p>
                            <p class="font-medium text-gray-900">Duration of account + 7 years</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Transaction Records:</p>
                            <p class="font-medium text-gray-900">10 years (regulatory requirement)</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Support Communications:</p>
                            <p class="font-medium text-gray-900">3 years</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Marketing Data:</p>
                            <p class="font-medium text-gray-900">Until consent withdrawn</p>
                        </div>
                    </div>
                </div>
                
                <p class="text-gray-600 leading-relaxed">
                    We retain your information only as long as necessary for legitimate business purposes or as required by law. When data is no longer needed, we securely delete or anonymize it according to our data retention policies.
                </p>
            </section>

            <section id="your-rights" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">6. Your Rights and Choices</h2>
                
                <p class="text-gray-600 leading-relaxed mb-6">
                    You have the following rights regarding your personal information:
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-eye text-blue-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Access</h3>
                                <p class="text-sm text-gray-600">Request a copy of your personal information</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-edit text-green-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Correction</h3>
                                <p class="text-sm text-gray-600">Update or correct inaccurate information</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-trash text-red-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Deletion</h3>
                                <p class="text-sm text-gray-600">Request deletion of your personal information</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-download text-purple-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Portability</h3>
                                <p class="text-sm text-gray-600">Export your data in a readable format</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-pause text-yellow-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Restriction</h3>
                                <p class="text-sm text-gray-600">Limit how we process your information</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                <i class="fas fa-ban text-gray-600 text-sm"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-gray-900">Objection</h3>
                                <p class="text-sm text-gray-600">Object to certain types of processing</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="bg-blue-50 rounded-lg p-6 mt-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">How to Exercise Your Rights</h3>
                    <p class="text-gray-700 leading-relaxed mb-4">
                        To exercise any of these rights, please contact us using the information provided at the end of this policy. We will respond to your request within 30 days.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-3">
                        <a href="{% url 'core:contact' %}" 
                           class="bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-700 transition-colors duration-200 text-center">
                            Contact Support
                        </a>
                        <a href="mailto:privacy@tradevision.com" 
                           class="border border-primary-600 text-primary-600 px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary-50 transition-colors duration-200 text-center">
                            Email Privacy Team
                        </a>
                    </div>
                </div>
            </section>

            <section id="cookies" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">7. Cookies and Tracking</h2>
                
                <p class="text-gray-600 leading-relaxed mb-6">
                    We use cookies and similar tracking technologies to enhance your experience and analyze usage patterns.
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-green-50 rounded-lg p-4">
                        <h3 class="font-semibold text-gray-900 mb-2">Essential Cookies</h3>
                        <p class="text-sm text-gray-600 mb-3">Required for basic functionality and security</p>
                        <span class="inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Always Active</span>
                    </div>
                    
                    <div class="bg-blue-50 rounded-lg p-4">
                        <h3 class="font-semibold text-gray-900 mb-2">Analytics Cookies</h3>
                        <p class="text-sm text-gray-600 mb-3">Help us understand how you use our platform</p>
                        <span class="inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full">Optional</span>
                    </div>
                    
                    <div class="bg-purple-50 rounded-lg p-4">
                        <h3 class="font-semibold text-gray-900 mb-2">Marketing Cookies</h3>
                        <p class="text-sm text-gray-600 mb-3">Used to personalize ads and marketing</p>
                        <span class="inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded-full">Optional</span>
                    </div>
                </div>
                
                <p class="text-gray-600 leading-relaxed">
                    You can control cookie preferences through your browser settings or our cookie consent banner. Note that disabling certain cookies may affect platform functionality.
                </p>
            </section>

            <section id="international-transfers" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">8. International Data Transfers</h2>
                
                <p class="text-gray-600 leading-relaxed mb-4">
                    Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place through:
                </p>
                
                <ul class="list-disc pl-6 space-y-2 text-gray-600 mb-6">
                    <li>Adequacy decisions by relevant data protection authorities</li>
                    <li>Standard contractual clauses approved by the European Commission</li>
                    <li>Binding corporate rules for transfers within our corporate group</li>
                    <li>Certification schemes and codes of conduct</li>
                </ul>
                
                <div class="bg-gray-50 rounded-lg p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-3">Our Data Processing Locations</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Primary Processing:</p>
                            <p class="font-medium text-gray-900">Kenya (Nairobi)</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Backup & Recovery:</p>
                            <p class="font-medium text-gray-900">European Union</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Analytics:</p>
                            <p class="font-medium text-gray-900">United States (with safeguards)</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-600 mb-1">Customer Support:</p>
                            <p class="font-medium text-gray-900">Kenya & European Union</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="changes" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">9. Changes to This Policy</h2>
                
                <p class="text-gray-600 leading-relaxed mb-4">
                    We may update this privacy policy from time to time to reflect changes in our practices or applicable laws. When we make changes:
                </p>
                
                <ul class="list-disc pl-6 space-y-2 text-gray-600 mb-6">
                    <li>We will post the updated policy on our website</li>
                    <li>We will update the "Last Updated" date at the top</li>
                    <li>For material changes, we will notify you via email or platform notification</li>
                    <li>We will obtain your consent for changes that materially expand our use of your information</li>
                </ul>
                
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-info-circle text-yellow-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                <strong>Tip:</strong> We recommend reviewing this policy periodically to stay informed about how we protect your information.
                            </p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="contact-privacy" class="mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">10. Contact Us</h2>
                
                <p class="text-gray-600 leading-relaxed mb-6">
                    If you have questions, concerns, or requests regarding this privacy policy or our data practices, please contact us:
                </p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Privacy Officer</h3>
                        <div class="space-y-3">
                            <div>
                                <p class="text-sm text-gray-600">Email:</p>
                                <a href="mailto:privacy@tradevision.com" 
                                   class="font-medium text-primary-600 hover:text-primary-700">
                                    privacy@tradevision.com
                                </a>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Phone:</p>
                                <a href="tel:+254700000000" 
                                   class="font-medium text-primary-600 hover:text-primary-700">
                                    +254 700 000 000
                                </a>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Response Time:</p>
                                <p class="font-medium text-gray-900">Within 30 days</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-gray-50 rounded-lg p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Mailing Address</h3>
                        <div class="text-gray-700">
                            <p>TradeVision Privacy Team</p>
                            <p>P.O. Box 12345</p>
                            <p>Nairobi, Kenya</p>
                            <p class="mt-3">
                                <strong>For EU residents:</strong> You also have the right to lodge a complaint with your local data protection authority.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</section>

<!-- Call to Action -->
<section class="py-12 bg-gray-50">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h2 class="text-2xl font-bold text-gray-900 mb-4">Questions About Our Privacy Practices?</h2>
        <p class="text-gray-600 mb-6">
            Our privacy team is here to help you understand how we protect your information.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="{% url 'core:contact' %}" 
               class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors duration-200">
                <i class="fas fa-envelope mr-2"></i>Contact Us
            </a>
            <a href="{% url 'core:faq' %}" 
               class="border border-primary-600 text-primary-600 px-6 py-3 rounded-lg hover:bg-primary-50 transition-colors duration-200">
                <i class="fas fa-question-circle mr-2"></i>View FAQ
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Smooth scrolling for table of contents
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});

// Highlight current section in table of contents
window.addEventListener('scroll', function() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('a[href^="#"]');
    
    let current = '';
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        if (pageYOffset >= sectionTop - 200) {
            current = section.getAttribute('id');
        }
    });

    navLinks.forEach(link => {
        link.classList.remove('font-bold');
        if (link.getAttribute('href') === '#' + current) {
            link.classList.add('font-bold');
        }
    });
});

// Cookie preferences modal (placeholder)
function openCookiePreferences() {
    alert('Cookie preferences panel will be implemented here');
}
</script>
{% endblock %}