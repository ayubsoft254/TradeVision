<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}TradeVision - Smart Trading Platform for automated daily profits{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}trading, investment, profits, automated trading, financial platform{% endblock %}">
    <meta name="author" content="TradeVision">
    
    <!-- SEO -->
    <meta property="og:title" content="{% block og_title %}TradeVision - Smart Trading Platform{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Generate daily profits through automated trading packages{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}">
    <meta property="og:image" content="{% block og_image %}/static/images/og-image.jpg{% endblock %}">
    
    <title>{% block title %}TradeVision - Smart Trading Platform{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    <link rel="apple-touch-icon" href="/static/images/apple-touch-icon.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f8f9fa',
                            100: '#e9ecef',
                            200: '#dee2e6',
                            300: '#ced4da',
                            400: '#adb5bd',
                            500: '#6c757d',
                            600: '#495057',
                            700: '#343a40',
                            800: '#212529',
                            900: '#121416',
                        },
                        accent: {
                            50: '#f0f8ff',
                            100: '#e1effe',
                            200: '#bae1fd',
                            300: '#7cc4fa',
                            400: '#38a5f5',
                            500: '#0d8aed',
                            600: '#026dc8',
                            700: '#0356a3',
                            800: '#074685',
                            900: '#0c386e',
                        },
                        success: {
                            50: '#f3faf7',
                            100: '#def7ec',
                            200: '#bcf0da',
                            300: '#84e1bc',
                            400: '#31c48d',
                            500: '#0e9f6e',
                            600: '#057a55',
                            700: '#046c4e',
                            800: '#03543f',
                            900: '#014737',
                        },
                        warning: {
                            50: '#fdfdea',
                            100: '#fdf6b2',
                            200: '#fce96a',
                            300: '#faca15',
                            400: '#e3a008',
                            500: '#c27803',
                            600: '#9f580a',
                            700: '#8e4b10',
                            800: '#723b13',
                            900: '#633112',
                        },
                        danger: {
                            50: '#fdf2f2',
                            100: '#fde8e8',
                            200: '#fbd5d5',
                            300: '#f8b4b4',
                            400: '#f98080',
                            500: '#f05252',
                            600: '#e02424',
                            700: '#c81e1e',
                            800: '#9b1c1c',
                            900: '#771d1d',
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'ui-sans-serif', 'system-ui'],
                        'heading': ['Georgia', 'Times New Roman', 'serif'],
                        'serif': ['Georgia', 'Times New Roman', 'serif'],
                    },
                    spacing: {
                        '18': '4.5rem',
                        '88': '22rem',
                        '128': '32rem',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-in': 'bounceIn 0.6s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceIn: {
                            '0%': { transform: 'scale(0.3)', opacity: '0' },
                            '50%': { transform: 'scale(1.05)' },
                            '70%': { transform: 'scale(0.9)' },
                            '100%': { transform: 'scale(1)', opacity: '1' },
                        }
                    }
                }
            },
            darkMode: 'class',
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom CSS -->
    <style>
        /* Classic professional styling */
        body {
            color: #2D3748;
            background-color: #FAFAF9;
            line-height: 1.6;
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }
        
        /* Elegant navigation */
        nav {
            background: #ffffff;
            border-bottom: 1px solid #E5E7EB;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        
        .nav-link {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .nav-link:after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: #0d8aed;
            transition: width 0.3s ease;
        }
        
        .nav-link:hover:after {
            width: 100%;
        }
        
        /* Currency Ticker Styles */
        .ticker-wrap {
            position: relative;
            overflow: hidden;
            height: 36px;
            display: flex;
            align-items: center;
            background-color: #f8f9fa;
            color: #495057;
            border-top: 1px solid #e9ecef;
            border-bottom: 1px solid #e9ecef;
        }

        .ticker {
            display: inline-flex;
            gap: 3rem;
            white-space: nowrap;
            animation: ticker-scroll 30s linear infinite;
        }

        .ticker-item {
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.3px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Ticker Scroll Animation */
        @keyframes ticker-scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Elegant cards */
        .elegant-card {
            background: #ffffff;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.03);
            transition: all 0.3s ease;
        }
        
        .elegant-card:hover {
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.07);
            transform: translateY(-2px);
        }
        
        /* Classic buttons */
        .classic-btn {
            padding: 10px 24px;
            border-radius: 6px;
            font-weight: 500;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }
        
        .classic-btn-primary {
            background-color: #0d8aed;
            color: white;
        }
        
        .classic-btn-primary:hover {
            background-color: #026dc8;
            transform: translateY(-1px);
        }
        
        /* Elegant form elements */
        .elegant-input {
            border: 1px solid #E5E7EB;
            border-radius: 6px;
            padding: 10px 14px;
            transition: all 0.3s ease;
        }
        
        .elegant-input:focus {
            outline: none;
            border-color: #0d8aed;
            box-shadow: 0 0 0 3px rgba(13, 138, 237, 0.1);
        }
        
        /* Section dividers */
        .section-divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #E5E7EB, transparent);
            margin: 3rem 0;
        }
        
        /* Footer styling */
        footer {
            background: #121416;
            color: #E5E7EB;
        }
        
        footer a {
            transition: color 0.3s ease;
        }
        
        footer a:hover {
            color: #ffffff;
        }
        
        /* Status indicators */
        .status-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        /* Loading animation */
        .spinner {
            border: 2px solid #f3f4f6;
            border-top: 2px solid #0d8aed;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        
        /* Table styling */
        .elegant-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .elegant-table th {
            background-color: #f8f9fa;
            padding: 12px 16px;
            text-align: left;
            font-weight: 600;
            color: #495057;
            border-bottom: 1px solid #E5E7EB;
        }
        
        .elegant-table td {
            padding: 12px 16px;
            border-bottom: 1px solid #E5E7EB;
        }
        
        .elegant-table tr:last-child td {
            border-bottom: none;
        }
        
        .elegant-table tr:hover {
            background-color: #f8f9fa;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .mobile-hidden {
                display: none;
            }
            
            .mobile-stack {
                flex-direction: column;
            }
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body class="h-full bg-gray-50 font-sans antialiased">
    <!-- Loading Overlay -->
    <div id="loading-overlay" class="fixed inset-0 bg-white bg-opacity-80 flex items-center justify-center z-50 hidden">
        <div class="text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-gray-600">Loading...</p>
        </div>
    </div>
    
    <!-- Currency Ticker -->
    <div class="ticker-wrap">
        <div class="ticker">
            <div class="ticker-item"><i class="fas fa-coins text-blue-500"></i> BTC/USDT: <span>67,235 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-ethereum text-purple-400"></i> ETH/USDT: <span>2,685 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-green-500"></i> USDT/USD: <span>1.0001 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-dollar-sign text-yellow-500"></i> BNB/USDT: <span>602.45 ▼</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-blue-400"></i> ADA/USDT: <span>0.435 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-orange-400"></i> SOL/USDT: <span>142.86 ▼</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-red-400"></i> DOT/USDT: <span>6.48 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-green-400"></i> AVAX/USDT: <span>27.91 ▼</span></div>
            <div class="ticker-item"><i class="fas fa-coins text-blue-300"></i> LINK/USDT: <span>14.22 ▲</span></div>
            <div class="ticker-item"><i class="fas fa-chart-line text-green-400"></i> Market Cap: <span>2.43T ▲</span></div>
        </div>
    </div>
        <!-- Navigation -->
        <nav class="sticky top-0 z-40 bg-white border-b border-gray-200 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between h-16">
                    
                    <!-- Logo -->
                    <div class="flex items-center">
                        <a href="{% url 'core:home' %}" class="flex items-center space-x-3 group">
                            <div class="w-10 h-10 bg-accent-600 rounded-lg flex items-center justify-center group-hover:scale-105 transition-transform duration-200 shadow-sm">
                                <i class="fas fa-chart-line text-white text-lg"></i>
                            </div>
                            <span class="text-xl font-serif font-semibold text-gray-900 group-hover:text-accent-600 transition-colors duration-200">TradeVision</span>
                        </a>
                    </div>

                    <!-- Desktop Navigation -->
                    <div class="hidden md:flex items-center space-x-1">
                        {% if user.is_authenticated %}
                            <a href="{% url 'trading:dashboard' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-accent-600">
                                <i class="fas fa-tachometer-alt mr-2"></i>Dashboard
                            </a>
                            <a href="{% url 'trading:packages' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-accent-600">
                                <i class="fas fa-box mr-2"></i>Packages
                            </a>
                            <a href="{% url 'payments:deposit' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-success-600">
                                <i class="fas fa-plus-circle mr-2"></i>Deposit
                            </a>
                            <a href="{% url 'payments:withdraw' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-warning-600">
                                <i class="fas fa-minus-circle mr-2"></i>Withdraw
                            </a>

                            <!-- Balance -->
                            {% if user.wallet %}
                            <div class="px-3 py-2 bg-gray-100 rounded-md ml-2 border border-gray-200">
                                <div class="text-xs text-gray-500">Balance</div>
                                <div class="text-sm font-semibold text-gray-900">
                                    {{ user.wallet.balance|floatformat:2 }} {{ user.wallet.currency }}
                                </div>
                            </div>
                            {% endif %}

                            <!-- User Dropdown -->
                            <div class="relative ml-3" x-data="{ open: false }">
                                <button @click="open = !open" class="flex items-center space-x-2 text-gray-700 hover:text-accent-600 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 border border-gray-200 hover:border-accent-200">
                                    {% if user.profile.avatar %}
                                        <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="w-8 h-8 rounded-full">
                                    {% else %}
                                        <div class="w-8 h-8 bg-accent-100 rounded-full flex items-center justify-center">
                                            <i class="fas fa-user text-accent-600 text-sm"></i>
                                        </div>
                                    {% endif %}
                                    <span class="hidden lg:block">{{ user.full_name|default:user.email|truncatechars:15 }}</span>
                                    <i class="fas fa-chevron-down text-xs transition-transform duration-200" :class="{ 'rotate-180': open }"></i>
                                </button>

                                <!-- Dropdown -->
                                <div x-show="open"
                                    @click.away="open = false"
                                    x-transition
                                    class="absolute right-0 mt-2 w-56 bg-white rounded-md shadow-lg py-2 z-50 border border-gray-200">
                                    <div class="px-4 py-3 border-b border-gray-100">
                                        <p class="text-sm font-medium text-gray-900">{{ user.full_name|default:"User" }}</p>
                                        <p class="text-sm text-gray-500">{{ user.email }}</p>
                                    </div>
                                    <a href="{% url 'accounts:profile' %}" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-accent-50 hover:text-accent-600 transition">
                                        <i class="fas fa-user mr-3 text-gray-400"></i>Profile
                                    </a>
                                    <a href="{% url 'accounts:security' %}" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-accent-50 hover:text-accent-600 transition">
                                        <i class="fas fa-shield-alt mr-3 text-gray-400"></i>Security
                                    </a>
                                    <a href="{% url 'accounts:referrals' %}" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-accent-50 hover:text-accent-600 transition">
                                        <i class="fas fa-users mr-3 text-gray-400"></i>Referrals
                                    </a>
                                    <a href="{% url 'payments:transactions' %}" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-accent-50 hover:text-accent-600 transition">
                                        <i class="fas fa-history mr-3 text-gray-400"></i>Transactions
                                    </a>
                                    <a href="{% url 'core:support_tickets' %}" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-accent-50 hover:text-accent-600 transition">
                                        <i class="fas fa-life-ring mr-3 text-gray-400"></i>Support
                                    </a>
                                    <div class="border-t border-gray-100 mt-1 pt-1">
                                        <a href="{% url 'account_logout' %}" class="flex items-center px-4 py-2 text-sm text-danger-600 hover:bg-danger-50 transition">
                                            <i class="fas fa-sign-out-alt mr-3"></i>Logout
                                        </a>
                                    </div>
                                </div>
                            </div>
                        {% else %}
                            <!-- Guest Navigation -->
                            <a href="{% url 'core:about' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-accent-600">About</a>
                            <a href="{% url 'core:faq' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-accent-600">FAQ</a>
                            <a href="{% url 'account_login' %}" class="nav-link px-4 py-2 text-sm font-medium text-gray-700 hover:text-accent-600">Login</a>
                            <a href="{% url 'account_signup' %}" class="classic-btn classic-btn-primary ml-2">
                                Get Started
                            </a>
                        {% endif %}
                    </div>

                    <!-- Mobile Menu -->
                    <div class="md:hidden flex items-center" x-data="{ open: false }">
                        <button @click="open = !open"
                                class="text-gray-700 hover:text-accent-600 p-2 rounded-md hover:bg-gray-100 transition-all duration-200 border border-gray-200">
                            <i class="fas fa-bars text-xl" x-show="!open"></i>
                            <i class="fas fa-times text-xl" x-show="open"></i>
                        </button>

                        <!-- Dropdown for mobile -->
                        <div x-show="open" x-transition class="absolute top-16 left-0 w-full bg-white border-t border-gray-200 shadow-md z-50">
                            <div class="px-4 pt-4 pb-6 space-y-2">
                                {% if user.is_authenticated %}
                                    <a href="{% url 'trading:dashboard' %}" class="block nav-link px-4 py-2">Dashboard</a>
                                    <a href="{% url 'trading:packages' %}" class="block nav-link px-4 py-2">Packages</a>
                                    <a href="{% url 'payments:deposit' %}" class="block nav-link px-4 py-2">Deposit</a>
                                    <a href="{% url 'payments:withdraw' %}" class="block nav-link px-4 py-2">Withdraw</a>
                                    <a href="{% url 'accounts:profile' %}" class="block nav-link px-4 py-2">Profile</a>
                                    <a href="{% url 'payments:transactions' %}" class="block nav-link px-4 py-2">Transactions</a>
                                    <a href="{% url 'core:support_tickets' %}" class="block nav-link px-4 py-2">Support</a>
                                    <a href="{% url 'account_logout' %}" class="block nav-link px-4 py-2 text-danger-600">Logout</a>
                                {% else %}
                                    <a href="{% url 'core:about' %}" class="block nav-link px-4 py-2">About</a>
                                    <a href="{% url 'core:faq' %}" class="block nav-link px-4 py-2">FAQ</a>
                                    <a href="{% url 'account_login' %}" class="block nav-link px-4 py-2">Login</a>
                                    <a href="{% url 'account_signup' %}" class="block classic-btn classic-btn-primary w-full text-center mt-2">Get Started</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </nav>

    <!-- Messages/Notifications -->
    {% if messages %}
        <div class="fixed top-20 right-4 z-50 space-y-2 max-w-sm">
            {% for message in messages %}
                <div x-data="{ show: true }" 
                     x-show="show" 
                     x-transition:enter="transition ease-out duration-300"
                     x-transition:enter-start="opacity-0 transform translate-x-full"
                     x-transition:enter-end="opacity-100 transform translate-x-0"
                     x-transition:leave="transition ease-in duration-200"
                     x-transition:leave-start="opacity-100 transform translate-x-0"
                     x-transition:leave-end="opacity-0 transform translate-x-full"
                     class="bg-white shadow-lg rounded-lg overflow-hidden border-l-4 {% if message.tags == 'success' %}border-success-500{% elif message.tags == 'error' %}border-danger-500{% elif message.tags == 'warning' %}border-warning-500{% else %}border-accent-500{% endif %}">
                    <div class="p-4">
                        <div class="flex items-start">
                            <div class="flex-shrink-0">
                                {% if message.tags == 'success' %}
                                    <i class="fas fa-check-circle text-success-500 text-xl"></i>
                                {% elif message.tags == 'error' %}
                                    <i class="fas fa-exclamation-circle text-danger-500 text-xl"></i>
                                {% elif message.tags == 'warning' %}
                                    <i class="fas fa-exclamation-triangle text-warning-500 text-xl"></i>
                                {% else %}
                                    <i class="fas fa-info-circle text-accent-500 text-xl"></i>
                                {% endif %}
                            </div>
                            <div class="ml-3 w-0 flex-1">
                                <p class="text-sm font-medium text-gray-900">{{ message }}</p>
                            </div>
                            <div class="ml-4 flex-shrink-0 flex">
                                <button @click="show = false" class="text-gray-400 hover:text-gray-600 transition-colors duration-200">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    
    <!-- Main Content -->
    <main class="min-h-screen">
        {% block content %}{% endblock %}
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Brand Column -->
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center space-x-3 mb-6">
                        <div class="w-12 h-12 bg-accent-600 rounded-lg flex items-center justify-center">
                            <i class="fas fa-chart-line text-white text-xl"></i>
                        </div>
                        <span class="text-2xl font-serif font-semibold text-white">TradeVision</span>
                    </div>
                    <p class="text-gray-300 mb-6 max-w-md">Empowering individuals with sustainable and transparent financial growth opportunities through smart trading solutions.</p>
                    
                    <!-- Social Links -->
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200 text-lg">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200 text-lg">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200 text-lg">
                            <i class="fab fa-telegram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200 text-lg">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200 text-lg">
                            <i class="fab fa-linkedin"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Platform Links -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase mb-4">Platform</h3>
                    <ul class="space-y-3">
                        <li><a href="{% url 'core:about' %}" class="text-gray-300 hover:text-white transition-colors duration-200">About Us</a></li>
                        <li><a href="{% url 'core:faq' %}" class="text-gray-300 hover:text-white transition-colors duration-200">FAQ</a></li>
                        <li><a href="{% url 'trading:packages' %}" class="text-gray-300 hover:text-white transition-colors duration-200">Trading Packages</a></li>
                        <li><a href="{% url 'core:terms' %}" class="text-gray-300 hover:text-white transition-colors duration-200">Terms & Conditions</a></li>
                        <li><a href="{% url 'core:privacy' %}" class="text-gray-300 hover:text-white transition-colors duration-200">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <!-- Support Links -->
                <div>
                    <h3 class="text-sm font-semibold text-gray-400 tracking-wider uppercase mb-4">Support</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center text-gray-300">
                            <i class="fas fa-envelope mr-2 text-accent-400"></i> 
                            <a href="mailto:support@tradevision.com" class="hover:text-white transition-colors duration-200">support@tradevision.com</a>
                        </li>
                        <li class="flex items-center text-gray-300">
                            <i class="fas fa-phone mr-2 text-accent-400"></i> 
                            <a href="tel:+254700000000" class="hover:text-white transition-colors duration-200">+254 700 000 000</a>
                        </li>
                        <li class="flex items-center text-gray-300">
                            <i class="fab fa-telegram mr-2 text-accent-400"></i> 
                            <a href="#" class="hover:text-white transition-colors duration-200">@TradeVisionSupport</a>
                        </li>
                        <li class="flex items-center text-gray-300">
                            <i class="fab fa-whatsapp mr-2 text-accent-400"></i> 
                            <a href="#" class="hover:text-white transition-colors duration-200">+254 700 000 001</a>
                        </li>
                        <li><a href="{% url 'core:contact' %}" class="text-gray-300 hover:text-white transition-colors duration-200">Contact Form</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Footer Bottom -->
            <div class="mt-8 pt-8 border-t border-gray-800">
                <div class="md:flex md:items-center md:justify-between">
                    <div class="flex space-x-6 md:order-2">
                        <a href="{% url 'core:terms' %}" class="text-gray-400 hover:text-gray-300 text-sm">Terms</a>
                        <a href="{% url 'core:privacy' %}" class="text-gray-400 hover:text-gray-300 text-sm">Privacy</a>
                        <a href="{% url 'core:faq' %}" class="text-gray-400 hover:text-gray-300 text-sm">FAQ</a>
                        <a href="{% url 'core:support_tickets' %}" class="text-gray-400 hover:text-gray-300 text-sm">Support</a>
                    </div>
                    <p class="mt-8 text-base text-gray-400 md:mt-0 md:order-1">
                        &copy; 2025 TradeVision. All rights reserved. 
                        <span class="block sm:inline mt-1 sm:mt-0">Built with ❤️ for financial freedom.</span>
                    </p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Back to Top Button -->
    <button id="back-to-top" 
            class="fixed bottom-6 right-6 bg-accent-600 text-white p-3 rounded-full shadow-lg hover:bg-accent-700 transition-all duration-300 transform hover:scale-110 hidden z-40">
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- Scripts -->
    
    <!-- Alpine.js -->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    <!-- Chart.js (for trading charts) -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    
    <!-- Custom JavaScript -->
    <script>
        // Auto-hide messages after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const messages = document.querySelectorAll('[x-data*="show: true"]');
                messages.forEach(function(message) {
                    if (message.__x && message.__x.$data) {
                        message.__x.$data.show = false;
                    }
                });
            }, 5000);
        });
        
        // Countdown timer functionality
        function updateCountdowns() {
            const countdowns = document.querySelectorAll('.countdown-timer');
            countdowns.forEach(function(countdown) {
                const endTime = new Date(countdown.dataset.endTime).getTime();
                const now = new Date().getTime();
                const timeLeft = endTime - now;
                
                if (timeLeft > 0) {
                    const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
                    
                    countdown.innerHTML = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                } else {
                    countdown.innerHTML = '<span class="text-success-500 font-bold">COMPLETED</span>';
                    countdown.classList.add('text-success-500', 'animate-pulse');
                }
            });
        }
        
        // Update countdowns every second
        if (document.querySelectorAll('.countdown-timer').length > 0) {
            setInterval(updateCountdowns, 1000);
            updateCountdowns(); // Initial call
        }
        
        // Loading overlay functions
        function showLoading() {
            document.getElementById('loading-overlay').classList.remove('hidden');
        }
        
        function hideLoading() {
            document.getElementById('loading-overlay').classList.add('hidden');
        }
        
        // Back to top button
        const backToTopButton = document.getElementById('back-to-top');
        
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.remove('hidden');
            } else {
                backToTopButton.classList.add('hidden');
            }
        });
        
        backToTopButton.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // Form validation helper
        function validateForm(formId) {
            const form = document.getElementById(formId);
            const inputs = form.querySelectorAll('input[required], select[required], textarea[required]');
            let isValid = true;
            
            inputs.forEach(function(input) {
                if (!input.value.trim()) {
                    input.classList.add('border-danger-500');
                    isValid = false;
                } else {
                    input.classList.remove('border-danger-500');
                }
            });
            
            return isValid;
        }
        
        // Currency formatter
        function formatCurrency(amount, currency = 'USDT') {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: currency,
                minimumFractionDigits: 2
            }).format(amount);
        }
        
        // Number formatter with commas
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        
        // Copy to clipboard function
        function copyToClipboard(text, successMessage = 'Copied to clipboard!') {
            navigator.clipboard.writeText(text).then(function() {
                // Show success message (you can customize this)
                alert(successMessage);
            }).catch(function() {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert(successMessage);
            });
        }
        
        // AJAX helper function
        function makeAjaxRequest(url, method = 'GET', data = null) {
            return fetch(url, {
                method: method,
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]')?.value
                },
                body: data ? JSON.stringify(data) : null
            }).then(response => response.json());
        }
        
        // Auto-refresh wallet balance (for authenticated users)
        {% if user.is_authenticated %}
        function refreshWalletBalance() {
            makeAjaxRequest('{% url "payments:wallet_balance" %}')
                .then(data => {
                    if (data.success) {
                        // Update wallet balance displays
                        document.querySelectorAll('.wallet-balance').forEach(element => {
                            element.textContent = formatNumber(data.data.available_balance) + ' ' + data.data.currency;
                        });
                    }
                })
                .catch(error => console.log('Error updating wallet balance:', error));
        }
        
        // Refresh wallet balance every 5 minutes
        setInterval(refreshWalletBalance, 300000);
        {% endif %}
        
        // Page visibility API - pause timers when page is hidden
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                // Page is hidden, pause intensive operations
                console.log('Page hidden - pausing timers');
            } else {
                // Page is visible, resume operations
                console.log('Page visible - resuming timers');
                updateCountdowns();
            }
        });
        
        // Performance monitoring
        window.addEventListener('load', function() {
            // Log page load time
            const loadTime = performance.now();
            if (loadTime > 3000) {
                console.warn('Page took longer than 3 seconds to load:', loadTime);
            }
        });
        
        // Error handling for failed requests
        window.addEventListener('error', function(e) {
            console.error('JavaScript error:', e.error);
            // You could send this to a logging service
        });
        
        // Service Worker registration (for PWA features)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(function(err) {
                        console.log('ServiceWorker registration failed');
                    });
            });
        }

        // Ticker value randomization
        function randomizeValue(base, variation) {
            let change = (Math.random() * variation * 2 - variation).toFixed(2);
            let newValue = (base + parseFloat(change)).toFixed(2);
            let arrow = change >= 0 ? "▲" : "▼";
            let color = change >= 0 ? "text-green-500" : "text-red-500";
            return { value: newValue, arrow: arrow, color: color };
        }

        function updateTicker() {
            let eurusd = randomizeValue(1.0765, 0.01);
            let btcusd = randomizeValue(45230, 300);
            let ethusd = randomizeValue(3120, 50);
            let usdjpy = randomizeValue(147.88, 0.5);
            let gold   = randomizeValue(2150, 10);

            document.querySelector(".ticker-item:nth-child(1) span").innerHTML = `<span class="font-bold ${eurusd.color}">${eurusd.value} ${eurusd.arrow}</span>`;
            document.querySelector(".ticker-item:nth-child(2) span").innerHTML = `<span class="font-bold ${btcusd.color}">${btcusd.value} ${btcusd.arrow}</span>`;
            document.querySelector(".ticker-item:nth-child(3) span").innerHTML = `<span class="font-bold ${ethusd.color}">${ethusd.value} ${ethusd.arrow}</span>`;
            document.querySelector(".ticker-item:nth-child(4) span").innerHTML = `<span class="font-bold ${usdjpy.color}">${usdjpy.value} ${usdjpy.arrow}</span>`;
            document.querySelector(".ticker-item:nth-child(5) span").innerHTML = `<span class="font-bold ${gold.color}">${gold.value} ${gold.arrow}</span>`;
        }

        // Update every 5 seconds
        setInterval(updateTicker, 5000);
    </script>
    
    {% block extra_js %}{% endblock %}
</body>
</html>